<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Background -->
  <rect width="800" height="420" fill="#ffffff"/>
  
  <!-- Interfaces -->
  <rect x="30" y="30" width="180" height="130" rx="5" fill="#d1e7dd" stroke="#20c997" stroke-width="2"/>
  <text x="120" y="55" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Interfaces</text>
  <rect x="40" y="65" width="160" height="25" rx="3" fill="#ffffff" stroke="#20c997" stroke-width="1"/>
  <text x="120" y="83" font-family="Arial" font-size="14" text-anchor="middle">IMarketController</text>
  <rect x="40" y="95" width="160" height="25" rx="3" fill="#ffffff" stroke="#20c997" stroke-width="1"/>
  <text x="120" y="113" font-family="Arial" font-size="14" text-anchor="middle">IMarketFactory</text>
  <rect x="40" y="125" width="160" height="25" rx="3" fill="#ffffff" stroke="#20c997" stroke-width="1"/>
  <text x="120" y="143" font-family="Arial" font-size="14" text-anchor="middle">IMarketVault</text>

  <!-- Base Contracts -->
  <rect x="30" y="200" width="180" height="130" rx="5" fill="#cfe2ff" stroke="#0d6efd" stroke-width="2"/>
  <text x="120" y="225" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Base Contracts</text>
  <rect x="40" y="235" width="160" height="25" rx="3" fill="#ffffff" stroke="#0d6efd" stroke-width="1"/>
  <text x="120" y="253" font-family="Arial" font-size="14" text-anchor="middle">BaseVault</text>
  <rect x="40" y="265" width="160" height="25" rx="3" fill="#ffffff" stroke="#0d6efd" stroke-width="1"/>
  <text x="120" y="283" font-family="Arial" font-size="14" text-anchor="middle">Ownable</text>
  <rect x="40" y="295" width="160" height="25" rx="3" fill="#ffffff" stroke="#0d6efd" stroke-width="1"/>
  <text x="120" y="313" font-family="Arial" font-size="14" text-anchor="middle">ERC4626</text>
  
  <!-- Core Logic Contracts -->
  <rect x="240" y="30" width="520" height="180" rx="5" fill="#fff3cd" stroke="#ffc107" stroke-width="2"/>
  <text x="500" y="55" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Core Logic</text>
  
  <rect x="260" y="70" width="230" height="120" rx="3" fill="#ffffff" stroke="#ffc107" stroke-width="1"/>
  <text x="375" y="90" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">MarketController</text>
  <text x="375" y="110" font-family="Arial" font-size="12" text-anchor="middle">- Market state management</text>
  <text x="375" y="130" font-family="Arial" font-size="12" text-anchor="middle">- Oracle processing</text>
  <text x="375" y="150" font-family="Arial" font-size="12" text-anchor="middle">- State transitions</text>
  <text x="375" y="170" font-family="Arial" font-size="12" text-anchor="middle">- Event handling</text>
  
  <rect x="510" y="70" width="230" height="75" rx="3" fill="#ffffff" stroke="#ffc107" stroke-width="1"/>
  <text x="625" y="90" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">MarketFactory</text>
  <text x="625" y="110" font-family="Arial" font-size="12" text-anchor="middle">- Market creation</text>
  <text x="625" y="130" font-family="Arial" font-size="12" text-anchor="middle">- Vault deployment</text>
  
  <!-- Vault Implementations -->
  <rect x="240" y="240" width="520" height="140" rx="5" fill="#f8d7da" stroke="#dc3545" stroke-width="2"/>
  <text x="500" y="265" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Vault Implementations</text>
  
  <rect x="260" y="280" width="230" height="80" rx="3" fill="#ffffff" stroke="#dc3545" stroke-width="1"/>
  <text x="375" y="310" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">RiskVault</text>
  <text x="375" y="330" font-family="Arial" font-size="12" text-anchor="middle">Risk-specific logic</text>
  
  <rect x="510" y="280" width="230" height="80" rx="3" fill="#ffffff" stroke="#dc3545" stroke-width="1"/>
  <text x="625" y="310" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">HedgeVault</text>
  <text x="625" y="330" font-family="Arial" font-size="12" text-anchor="middle">Hedge-specific logic</text>
  
  <!-- Relationships -->
  <line x1="210" y1="80" x2="240" y2="100" stroke="#000" stroke-width="1.5" stroke-dasharray="5,5"/>
  <line x1="130" y1="160" x2="130" y2="200" stroke="#000" stroke-width="1.5" stroke-dasharray="5,5"/>

  <line x1="210" y1="270" x2="240" y2="270" stroke="#000" stroke-width="1.5"/>
  
  <line x1="625" y1="210" x2="625" y2="240" stroke="#000" stroke-width="1.5"/>
  
  <path d="M490 120 L550 120" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>
</svg>
